import matplotlib.pyplot as plt
import numpy as np

# 生成随机数据点，这里假设有120个数据点
num_points = 60
minutes = np.arange(num_points)
# qps = [1573.242624,1806.008243,2174.017457,2395.190862,2413.263122,2812.579076,2881.525067,2518.81441,1894.355228,
#            1784.3257,1892.716829,1595.345601,1414.063967,1328.832248,1293.63459,1214.741337,1485.525991,
#            1764.058239,1705.480088,1540.48046,1330.133438,1764.323986,1761.810186,1503.365258,1631.227352,
#            1731.930439,1935.697067,1679.81209,1650.546463,1564.346294,1713.356461,2000.805736,1934.739039,
#            1830.270836,1493.97852,1429.145274,1519.263903,1445.096028,1420.257278,1430.543236,1430.573012,
#            2043.416013,2561.259432,2788.621682,2534.214315,2651.848514,3182.475314,2523.745982,2187.937519,
#            2003.57635,1888.104599,1766.814709,1600.352357,1481.902309,1220.987499,1129.187298,1188.67658,
#            1374.309908,1248.47255,1152.72039,1140.723083,1900.124982,2188.012702,2573.636377,2402.991307,
#            2437.707346,2793.034416,2331.52035,1916.989099,1727.059161,1675.496126,1530.60987,1393.698247,
#            1251.726271,1136.581307,1108.731506,1304.657492,1407.996458,1419.135485,1213.801174,1142.013853,
#            1718.846325,2055.675345,2385.839111,2120.421497,2352.034204,2739.505451,2177.239914,1795.866696,
#            1689.726598,1565.122691,1622.992928,1615.343594,1567.503989,1235.130878,1123.012596,1246.498432,
#            1227.326711,1215.003362,1171.338287,1222.137579,1712.030705,2103.513461,2374.810254,2221.852596,
#            2327.57807,2918.654413,2286.973175,2082.232143,1826.956075,1668.855438,1495.679448,1399.463534,
#            1360.976425,1161.916564,1066.548508,1030.738963,1114.881643,1087.77623,963.5445177]

qps =[938.0514505,1942.26406,2115.909015,2491.768548,2374.449226,2373.998126,2721.267937,
       2218.627161,1894.794417,1706.553496,1647.606873,1349.346846,1342.019831,1170.203094,
       999.9406407,965.9965329,1152.05714,1201.398921,1098.075587,1055.745201,931.1167289,
       1565.243282,1903.382425,2247.122346,2020.459077,2227.160084,2633.456167,1951.389517,
       1601.855277,1439.220571,1407.277379,1375.370662,1358.808021,1391.654901,1075.591338,
       901.3493839,948.1587552,1002.915216,923.4815378,836.8086825,884.7465464,1512.189981,
       1984.570627,2155.810463,2081.574104,2162.600029,2720.25408,2118.923788,1907.957436,
       1676.656628,1430.805261,1370.089226,1276.54269,1147.948117,969.4296517,981.3562417,
       940.9433991,1062.216913,1078.33292,1077.281844]


# 创建一个新的图形
plt.figure(figsize=(10, 6))

# 绘制折线图
plt.plot(minutes, qps, marker='o', linestyle='-')

# 设置X轴刻度为6个刻度
x_ticks = np.linspace(0, num_points - 1, 6, dtype=int)  # 在数据范围内生成6个刻度
x_labels = [f"{i} min" for i in x_ticks]  # 生成刻度对应的标签
plt.xticks(x_ticks, x_labels)

# 添加标题和标签
plt.title('QPS vs Time')
plt.xlabel('Time (minutes)')
plt.ylabel('QPS')

# 保存图形为PNG格式
plt.savefig('qps_vs_time.png')

# 显示图形
plt.show()
